(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(7),s=t.n(r);t(16),t(17);var o=()=>n.a.createElement("div",null,"This is About"),c=t(3),m=t(1);var i=()=>{let e=Object(m.p)();let a=Object(m.n)();return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement(c.b,{className:"navbar-brand",to:"/"},"iNotebook"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(c.b,{className:`nav-link ${"/"===a.pathname?"active":""}`,"aria-current":"page",to:"/"},"Home")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(c.b,{className:`nav-link ${"/about"===a.pathname?"active":""}`,to:"/about"},"About"))),localStorage.getItem("token")?n.a.createElement("button",{onClick:()=>{localStorage.removeItem("token"),e("/login")},className:"btn btn-primary"},"Logout"):n.a.createElement("form",{className:"d-flex"},n.a.createElement(c.b,{className:"btn btn-primary mx-2",to:"/login",role:"button"},"Login"),n.a.createElement(c.b,{className:"btn btn-primary",to:"/signup",role:"button"},"SignUp")))))};var d=Object(l.createContext)();var p=e=>{const a=Object(l.useContext)(d),{deleteNote:t}=a,{note:r,updateNote:s}=e;return n.a.createElement("div",{className:"col-md-3"},n.a.createElement("div",{className:"card my-3"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},r.title),n.a.createElement("p",{className:"card-text"},r.description),n.a.createElement("i",{className:"fa-solid fa-trash-can mx-2",onClick:()=>{t(r._id),e.showAlert("Deleted successfully","success")}}),n.a.createElement("i",{className:"fa-solid fa-pen-to-square mx-2",onClick:()=>{s(r)}}))))};var u=e=>{const a=Object(l.useContext)(d),{addNote:t}=a,[r,s]=Object(l.useState)({title:"",description:"",tag:""}),o=e=>{s({...r,[e.target.name]:e.target.value})};return n.a.createElement("div",{className:"container my-3"},n.a.createElement("h2",null,"Add a Note"),n.a.createElement("form",{className:"my-3"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"title",className:"form-label"},"Title"),n.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title","aria-describedby":"emailHelp",value:r.title,onChange:o,minLength:5,required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"description",className:"form-label"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"description",name:"description",value:r.description,onChange:o,minLength:5,required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"tag",className:"form-label"},"Tag"),n.a.createElement("input",{type:"text",className:"form-control",id:"tag",name:"tag",value:r.tag,onChange:o,minLength:5,required:!0})),n.a.createElement("button",{disabled:r.title.length<5||r.description.length<5,type:"submit",className:"btn btn-primary",onClick:a=>{a.preventDefault(),t(r.title,r.description,r.tag),s({title:"",description:"",tag:""}),e.showAlert("Added successfully","success")}},"Add Note")))};var b=e=>{const a=Object(l.useContext)(d);let t=Object(m.p)();const{notes:r,getNotes:s,editNote:o}=a;Object(l.useEffect)(()=>{localStorage.getItem("token")?s():t("/login")},[s,t]);const c=Object(l.useRef)(null),i=Object(l.useRef)(null),[b,E]=Object(l.useState)({id:"",etitle:"",edescription:"",etag:""}),g=e=>{c.current.click(),E({id:e._id,etitle:e.title,edescription:e.description,etag:e.tag})},h=e=>{E({...b,[e.target.name]:e.target.value})};return n.a.createElement(n.a.Fragment,null,n.a.createElement(u,{showAlert:e.showAlert}),n.a.createElement("button",{ref:c,type:"button",className:"btn btn-primary d-none","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},"Launch demo modal"),n.a.createElement("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h1",{className:"modal-title fs-5",id:"exampleModalLabel"},"Modal title"),n.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"my-3"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"title",className:"form-label"},"Title"),n.a.createElement("input",{type:"text",className:"form-control",id:"etitle",name:"etitle",value:b.etitle,"aria-describedby":"emailHelp",onChange:h,minLength:5,required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"description",className:"form-label"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"edescription",name:"edescription",value:b.edescription,onChange:h,minLength:5,required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"tag",className:"form-label"},"Tag"),n.a.createElement("input",{type:"text",className:"form-control",id:"etag",name:"etag",value:b.etag,onChange:h})))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{ref:i,type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal"},"Close"),n.a.createElement("button",{disabled:b.etitle.length<5||b.edescription.length<5,onClick:a=>{a.preventDefault(),o(b.id,b.etitle,b.edescription,b.etag),i.current.click(),e.showAlert("Updated successfully","success")},type:"button",className:"btn btn-primary"},"Update Note"))))),n.a.createElement("div",{className:"row my-3"},n.a.createElement("h2",null,"Your Notes"),n.a.createElement("div",{className:"container"},0===r.length&&"No notes to display"),r.map(a=>n.a.createElement(p,{key:a._id,updateNote:g,showAlert:e.showAlert,note:a}))))};var E=e=>{const{showAlert:a}=e;return n.a.createElement("div",null,n.a.createElement(b,{showAlert:a}))};var g=e=>{const a="http://localhost:5000",[t,r]=Object(l.useState)([]);return n.a.createElement(d.Provider,{value:{notes:t,addNote:async(e,l,n)=>{const s=await fetch(`${a}/api/notes/addnote`,{method:"POST",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:e,description:l,tag:n})}),o=await s.json();r(t.concat(o))},deleteNote:async e=>{await fetch(`${a}/api/notes/deletenote/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}});const l=t.filter(a=>a._id!==e);r(l)},editNote:async(e,l,n,s)=>{await fetch(`${a}/api/notes/updatenote/${e}`,{method:"PUT",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")},body:JSON.stringify({title:l,description:n,tag:s})});let o=JSON.parse(JSON.stringify(t));for(let a=0;a<o.length;a++)if(o[a]._id===e){o[a].title=l,o[a].description=n,o[a].tag=s;break}r(o)},getNotes:async()=>{const e=await fetch(`${a}/api/notes/fetchallnotes`,{method:"GET",headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("token")}}),t=await e.json();r(t)}}},e.children)};var h=function(e){return n.a.createElement("div",{style:{height:"50px"}},e.alert&&n.a.createElement("div",{className:`alert alert-${e.alert.type} alert-dismissible fade show`,role:"alert"},n.a.createElement("strong",null,(e=>{"danger"===e&&(e="error");const a=e.toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)})(e.alert.type)),": ",e.alert.msg))};var N=e=>{const[a,t]=Object(l.useState)({email:"",password:""});let r=Object(m.p)();const s=e=>{t({...a,[e.target.name]:e.target.value})};return n.a.createElement("div",{className:"mt-3"},n.a.createElement("h2",null,"Login to continue to iNotebook"),n.a.createElement("form",{onSubmit:async t=>{t.preventDefault();const l=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,password:a.password})}),n=await l.json();n.success?(localStorage.setItem("token",n.authtoken),r("/"),e.showAlert("Logged in successfully","success")):e.showAlert("Invalid Details","danger")}},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"email",className:"form-label"},"Email address"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:a.email,onChange:s,"aria-describedby":"emailHelp"}),n.a.createElement("div",{id:"emailHelp",className:"form-text"},"We'll never share your email with anyone else.")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"current-password",className:"form-label"},"Password"),n.a.createElement("input",{type:"current-password",value:a.password,onChange:s,className:"form-control",name:"password",id:"current-password"})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))};var v=e=>{const[a,t]=Object(l.useState)({name:"",email:"",password:"",cpassword:""});let r=Object(m.p)();const s=e=>{t({...a,[e.target.name]:e.target.value})};return n.a.createElement("div",{className:"container mt-3"},n.a.createElement("h2",{className:"my-3"},"Create an account to use iNotebook"),n.a.createElement("form",{onSubmit:async t=>{t.preventDefault();const{name:l,email:n,password:s}=a,o=await fetch("http://localhost:5000/api/auth/createuser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,email:n,password:s})}),c=await o.json();c.success?(localStorage.setItem("token",c.authtoken),r("/"),e.showAlert("Account created successfully","success")):e.showAlert("Invalid credentials","danger")}},n.a.createElement("div",{className:"my-3"},n.a.createElement("label",{htmlFor:"name",className:"form-label"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",onChange:s,"aria-describedby":"emailHelp"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"email",className:"form-label"},"Email address"),n.a.createElement("input",{type:"email",className:"form-control",name:"email",id:"email",onChange:s,"aria-describedby":"emailHelp"}),n.a.createElement("div",{id:"emailHelp",className:"form-text"},"We'll never share your email with anyone else.")),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"password",className:"form-label"},"Password"),n.a.createElement("input",{type:"new-password",name:"password",className:"form-control",id:"password",onChange:s,minLength:5,required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"cpassword",className:"form-label"},"Confirm password"),n.a.createElement("input",{type:"new-password",className:"form-control",name:"cpassword",id:"cpassword",onChange:s,minLength:5,required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))};var y=function(){const[e,a]=Object(l.useState)(null),t=(e,t)=>{a({msg:e,type:t}),setTimeout(()=>{a(null)},1500)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,null,n.a.createElement(c.a,null,n.a.createElement(i,null),n.a.createElement(h,{alert:e}),n.a.createElement("div",{className:"container"},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",element:n.a.createElement(E,{showAlert:t})}),n.a.createElement(m.a,{path:"/about",element:n.a.createElement(o,null)}),n.a.createElement(m.a,{path:"/login",element:n.a.createElement(N,{showAlert:t})}),n.a.createElement(m.a,{path:"/signup",element:n.a.createElement(v,{showAlert:t})}))))))};s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null)))},8:function(e,a,t){e.exports=t(18)}},[[8,1,2]]]);
//# sourceMappingURL=main.9be28271.chunk.js.map